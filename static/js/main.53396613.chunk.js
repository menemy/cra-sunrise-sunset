(this["webpackJsonpcra-sunrise-sunset"]=this["webpackJsonpcra-sunrise-sunset"]||[]).push([[0],{1:function(e,t,n){e.exports={app:"App_app__1kX79",bar:"App_bar__3KjH7",header:"App_header__3ZZ1n",pre:"App_pre__1O6Rm",button:"App_button__13pio"}},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(5),c=n.n(u),i=(n(12),n(3)),s=n.n(i),o=n(6),l=n(2),m=n(1),p=n.n(m),_=function(e){return new Promise((function(t,n){navigator.geolocation.getCurrentPosition(t,n,e)}))},f="https://api.sunrise-sunset.org/json",b=function(e){return encodeURIComponent("".concat(e," day"))},d=function(e){if(!e)return"";var t=new Date(Date.parse(e)),n=t.getHours(),a=t.getMinutes(),r=n<10?"0".concat(n):n,u=a<10?"0".concat(a):a;return"".concat(r,":").concat(u)},g=function(e,t){var n=new Date(Date.parse(e)),a=new Date(Date.parse(t))-n;return Math.round(a/1e3/60)},v=function(e){if(!e||"undefined"===typeof e.status)return{civil_twilight_begin_minutes:740,sunrise_minutes:740,sunset_minutes:740,civil_twilight_end_minutes:740};var t=e.results,n=t.sunrise,a=t.sunset,r=t.civil_twilight_begin,u=t.civil_twilight_end,c=function(e){var t=new Date(Date.parse(e)),n=t.getMinutes();return 60*t.getHours()+n}(r);return{civil_twilight_begin_minutes:c,sunrise_minutes:c+g(r,n),sunset_minutes:c+g(r,a),civil_twilight_end_minutes:c+g(r,u)}};function h(e){var t=e.data,n=e.prevData,u=v(t),c=v(n),i=r.a.useState(1),s=Object(l.a)(i,2),o=s[0],m=s[1],_=Math.round(u.civil_twilight_begin_minutes-(u.civil_twilight_begin_minutes-c.civil_twilight_begin_minutes)*o),f=Math.round(u.sunrise_minutes-(u.sunrise_minutes-c.sunrise_minutes)*o),b=Math.round(u.sunset_minutes-(u.sunset_minutes-c.sunset_minutes)*o),d=Math.round(u.civil_twilight_end_minutes-(u.civil_twilight_end_minutes-c.civil_twilight_end_minutes)*o),g=Object(a.useRef)(),h=Object(a.useRef)(),E=Object(a.useRef)(),w=function e(t){void 0!==h.current&&function(e){m((function(t){return Math.max(0,t-e/700)}))}(t-h.current);h.current=t,t-E.current<700&&(g.current=requestAnimationFrame(e))};return Object(a.useEffect)((function(){return m(1),E.current=performance.now(),g.current=requestAnimationFrame(w),function(){return cancelAnimationFrame(g.current)}}),[t,n]),r.a.createElement("div",{className:p.a.bar,style:{width:1440,background:"linear-gradient(90deg, #1F0E4E ".concat(_,"px,")+" #00D0F0 ".concat(f,"px,#00D0F0 ").concat(b,"px, #1F0E4E ").concat(d,"px)")}})}var E=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)({results:{}}),i=Object(l.a)(c,2),m=i[0],g=i[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),w=E[0],j=E[1],O=Object(a.useState)(0),y=Object(l.a)(O,2),D=y[0],x=y[1],k=Object(a.useRef)();Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation){e.next=4;break}j("Geolocation is not supported by your browser"),e.next=28;break;case 4:return u(!0),e.prev=5,e.next=8,_();case 8:return t=e.sent,n=t.coords,a=n.latitude,r=n.longitude,e.next=14,fetch("".concat(f,"?lat=").concat(encodeURIComponent(a))+"&lng=".concat(encodeURIComponent(r),"&date=").concat(b(D),"&formatted=0"));case 14:return c=e.sent,e.next=17,c.json();case 17:i=e.sent,"OK"===(o=i.status)?g(i):j(o),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),j(e.t0.message);case 25:return e.prev=25,u(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})))).apply(this,arguments)}k.current=m,function(){e.apply(this,arguments)}()}),[D]);var M=m.results,A=M.sunrise,C=M.sunset,F=M.day_length,N=k.current;return r.a.createElement("div",{className:p.a.app},w?r.a.createElement("div",null,w):r.a.createElement("div",{className:p.a.pre},r.a.createElement("div",null,r.a.createElement("p",{className:p.a.header},function(e){var t=new Date;return t.setDate(t.getDate()+e),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}(D)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sunrise:")," ",d(A),r.a.createElement("br",null),r.a.createElement("strong",null,"Sunset:")," ",d(C),r.a.createElement("br",null),r.a.createElement("strong",null,"Length:")," ",function(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e%3600/60);return"".concat(t,":").concat(n)}(F),r.a.createElement("br",null)),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e-7}))}},"-7 days"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e-1}))}},"-1 day"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e+1}))}},"+1 day"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e+7}))}},"+7 days"),r.a.createElement(h,{data:m,prevData:N}),r.a.createElement("p",null,n?"\u231b":""))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.53396613.chunk.js.map