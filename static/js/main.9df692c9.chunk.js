(this["webpackJsonpcra-sunrise-sunset"]=this["webpackJsonpcra-sunrise-sunset"]||[]).push([[0],{1:function(e,t,n){e.exports={app:"App_app__1kX79",bar:"App_bar__3KjH7",error:"App_error__1umzI",header:"App_header__3ZZ1n",pre:"App_pre__1O6Rm",button:"App_button__13pio"}},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),c=n.n(i),u=(n(12),n(3)),s=n.n(u),o=n(6),l=n(2),m=n(1),p=n.n(m),_=function(e){return encodeURIComponent("".concat(e," day"))},d=function(e){if(!e)return"";var t=new Date(Date.parse(e)),n=t.getHours(),a=t.getMinutes(),r=n<10?"0".concat(n):n,i=a<10?"0".concat(a):a;return"".concat(r,":").concat(i)},b=function(e,t){var n=new Date(Date.parse(e)),a=new Date(Date.parse(t))-n;return Math.round(a/1e3/60)},f=function(e){if(!e||"undefined"===typeof e.status)return{civil_twilight_begin_minutes:740,sunrise_minutes:740,sunset_minutes:740,civil_twilight_end_minutes:740};var t=e.results,n=t.sunrise,a=t.sunset,r=t.civil_twilight_begin,i=t.civil_twilight_end,c=function(e){var t=new Date(Date.parse(e)),n=t.getMinutes();return 60*t.getHours()+n}(r);return{civil_twilight_begin_minutes:c,sunrise_minutes:c+b(r,n),sunset_minutes:c+b(r,a),civil_twilight_end_minutes:c+b(r,i)}},g=function(e){return new Promise((function(t,n){navigator.geolocation.getCurrentPosition(t,n,e)}))};function h(e){var t=e.data,n=e.prevData,i=e.animateMs,c=f(t),u=f(n),s=r.a.useState(1),o=Object(l.a)(s,2),m=o[0],_=o[1],d=Math.round(c.civil_twilight_begin_minutes-(c.civil_twilight_begin_minutes-u.civil_twilight_begin_minutes)*m),b=Math.round(c.sunrise_minutes-(c.sunrise_minutes-u.sunrise_minutes)*m),g=Math.round(c.sunset_minutes-(c.sunset_minutes-u.sunset_minutes)*m),h=Math.round(c.civil_twilight_end_minutes-(c.civil_twilight_end_minutes-u.civil_twilight_end_minutes)*m),v=Object(a.useRef)(),w=Object(a.useRef)(),E=Object(a.useRef)(),j=function e(t){void 0!==w.current&&function(e){_((function(t){return Math.max(0,t-e/i)}))}(t-w.current);w.current=t,t-E.current<i&&(v.current=requestAnimationFrame(e))};Object(a.useEffect)((function(){return _(1),E.current=performance.now(),v.current=requestAnimationFrame(j),function(){return cancelAnimationFrame(v.current)}}),[t,n]);var O=Math.min((Math.min(window.screen.width,window.innerWidth)-60)/1440,1);return r.a.createElement("div",{className:p.a.bar,style:{width:1440*O,background:"linear-gradient(90deg, #1F0E4E ".concat(O*d,"px,")+" #00D0F0 ".concat(O*b,"px,#00D0F0 ").concat(O*g,"px, #1F0E4E ").concat(O*h,"px)")}})}var v="https://api.sunrise-sunset.org/json";var w=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)({results:{}}),u=Object(l.a)(c,2),m=u[0],b=u[1],f=Object(a.useState)(""),w=Object(l.a)(f,2),E=w[0],j=w[1],O=Object(a.useState)(0),y=Object(l.a)(O,2),D=y[0],M=y[1],x=Object(a.useRef)();Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation){e.next=4;break}j("Geolocation is not supported by your browser"),e.next=28;break;case 4:return i(!0),e.prev=5,e.next=8,g();case 8:return t=e.sent,n=t.coords,a=n.latitude,r=n.longitude,e.next=14,fetch("".concat(v,"?lat=").concat(encodeURIComponent(a))+"&lng=".concat(encodeURIComponent(r),"&date=").concat(_(D),"&formatted=0"));case 14:return c=e.sent,e.next=17,c.json();case 17:u=e.sent,"OK"===(o=u.status)?b(u):j(o),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),"[object GeolocationPositionError]"===e.t0.toString()?j("GeolocationPositionError, code=".concat(e.t0.code)):j(e.t0.message);case 25:return e.prev=25,i(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})))).apply(this,arguments)}x.current=m,function(){e.apply(this,arguments)}()}),[D]);var k=m.results,A=k.sunrise,N=k.sunset,S=k.day_length,C=x.current;return r.a.createElement("div",{className:p.a.app},E?r.a.createElement("h3",{className:p.a.error},E):r.a.createElement("div",{className:p.a.pre},r.a.createElement("div",null,r.a.createElement("p",{className:p.a.header},function(e){var t=new Date;return t.setDate(t.getDate()+e),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}(D)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sunrise:")," ",d(A),r.a.createElement("br",null),r.a.createElement("strong",null,"Sunset:")," ",d(N),r.a.createElement("br",null),r.a.createElement("strong",null,"Length:")," ",function(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=n<10?"0".concat(n):n;return"".concat(t,":").concat(a)}(S),r.a.createElement("br",null)),r.a.createElement("button",{disabled:!!n,type:"button",className:p.a.button,onClick:function(){return M((function(e){return e-7}))}},"-7 days"),r.a.createElement("button",{disabled:!!n,type:"button",className:p.a.button,onClick:function(){return M((function(e){return e-1}))}},"-1 day"),r.a.createElement("button",{disabled:!!n,type:"button",className:p.a.button,onClick:function(){return M((function(e){return e+1}))}},"+1 day"),r.a.createElement("button",{disabled:!!n,type:"button",className:p.a.button,onClick:function(){return M((function(e){return e+7}))}},"+7 days"),r.a.createElement(h,{data:m,prevData:C,animateMs:700}),r.a.createElement("p",null,n?"\u231b":""))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.9df692c9.chunk.js.map