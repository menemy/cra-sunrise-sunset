(this["webpackJsonpcra-sunrise-sunset"]=this["webpackJsonpcra-sunrise-sunset"]||[]).push([[0],{1:function(e,t,n){e.exports={app:"App_app__1kX79",bar:"App_bar__3KjH7",header:"App_header__3ZZ1n",pre:"App_pre__1O6Rm",button:"App_button__13pio"}},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(5),c=n.n(u),i=(n(12),n(3)),s=n.n(i),o=n(6),l=n(2),m=n(1),p=n.n(m),_=function(e){return encodeURIComponent("".concat(e," day"))},f=function(e){if(!e)return"";var t=new Date(Date.parse(e)),n=t.getHours(),a=t.getMinutes(),r=n<10?"0".concat(n):n,u=a<10?"0".concat(a):a;return"".concat(r,":").concat(u)},b=function(e,t){var n=new Date(Date.parse(e)),a=new Date(Date.parse(t))-n;return Math.round(a/1e3/60)},d=function(e){if(!e||"undefined"===typeof e.status)return{civil_twilight_begin_minutes:740,sunrise_minutes:740,sunset_minutes:740,civil_twilight_end_minutes:740};var t=e.results,n=t.sunrise,a=t.sunset,r=t.civil_twilight_begin,u=t.civil_twilight_end,c=function(e){var t=new Date(Date.parse(e)),n=t.getMinutes();return 60*t.getHours()+n}(r);return{civil_twilight_begin_minutes:c,sunrise_minutes:c+b(r,n),sunset_minutes:c+b(r,a),civil_twilight_end_minutes:c+b(r,u)}},g=function(e){return new Promise((function(t,n){navigator.geolocation.getCurrentPosition(t,n,e)}))};function v(e){var t=e.data,n=e.prevData,u=e.animateMs,c=d(t),i=d(n),s=r.a.useState(1),o=Object(l.a)(s,2),m=o[0],_=o[1],f=Math.round(c.civil_twilight_begin_minutes-(c.civil_twilight_begin_minutes-i.civil_twilight_begin_minutes)*m),b=Math.round(c.sunrise_minutes-(c.sunrise_minutes-i.sunrise_minutes)*m),g=Math.round(c.sunset_minutes-(c.sunset_minutes-i.sunset_minutes)*m),v=Math.round(c.civil_twilight_end_minutes-(c.civil_twilight_end_minutes-i.civil_twilight_end_minutes)*m),h=Object(a.useRef)(),E=Object(a.useRef)(),w=Object(a.useRef)(),j=function e(t){void 0!==E.current&&function(e){_((function(t){return Math.max(0,t-e/u)}))}(t-E.current);E.current=t,t-w.current<u&&(h.current=requestAnimationFrame(e))};return Object(a.useEffect)((function(){return _(1),w.current=performance.now(),h.current=requestAnimationFrame(j),function(){return cancelAnimationFrame(h.current)}}),[t,n]),r.a.createElement("div",{className:p.a.bar,style:{width:1440,background:"linear-gradient(90deg, #1F0E4E ".concat(f,"px,")+" #00D0F0 ".concat(b,"px,#00D0F0 ").concat(g,"px, #1F0E4E ").concat(v,"px)")}})}var h="https://api.sunrise-sunset.org/json";var E=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)({results:{}}),i=Object(l.a)(c,2),m=i[0],b=i[1],d=Object(a.useState)(""),E=Object(l.a)(d,2),w=E[0],j=E[1],O=Object(a.useState)(0),y=Object(l.a)(O,2),D=y[0],x=y[1],M=Object(a.useRef)();Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.geolocation){e.next=4;break}j("Geolocation is not supported by your browser"),e.next=28;break;case 4:return u(!0),e.prev=5,e.next=8,g();case 8:return t=e.sent,n=t.coords,a=n.latitude,r=n.longitude,e.next=14,fetch("".concat(h,"?lat=").concat(encodeURIComponent(a))+"&lng=".concat(encodeURIComponent(r),"&date=").concat(_(D),"&formatted=0"));case 14:return c=e.sent,e.next=17,c.json();case 17:i=e.sent,"OK"===(o=i.status)?b(i):j(o),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),j(e.t0.message);case 25:return e.prev=25,u(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})))).apply(this,arguments)}M.current=m,function(){e.apply(this,arguments)}()}),[D]);var k=m.results,A=k.sunrise,C=k.sunset,F=k.day_length,N=M.current;return r.a.createElement("div",{className:p.a.app},w?r.a.createElement("div",null,w):r.a.createElement("div",{className:p.a.pre},r.a.createElement("div",null,r.a.createElement("p",{className:p.a.header},function(e){var t=new Date;return t.setDate(t.getDate()+e),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())}(D)),r.a.createElement("p",null,r.a.createElement("strong",null,"Sunrise:")," ",f(A),r.a.createElement("br",null),r.a.createElement("strong",null,"Sunset:")," ",f(C),r.a.createElement("br",null),r.a.createElement("strong",null,"Length:")," ",function(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=n<10?"0".concat(n):n;return"".concat(t,":").concat(a)}(F),r.a.createElement("br",null)),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e-7}))}},"-7 days"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e-1}))}},"-1 day"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e+1}))}},"+1 day"),r.a.createElement("button",{type:"button",className:p.a.button,onClick:function(){return x((function(e){return e+7}))}},"+7 days"),r.a.createElement(v,{data:m,prevData:N,animateMs:700}),r.a.createElement("p",null,n?"\u231b":""))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.ccfa76f9.chunk.js.map